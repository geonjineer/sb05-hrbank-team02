# ğŸ¦ HR Bank

**HR Bank**ëŠ” ê¸°ì—…ì˜ ì¸ì  ìì›ì„ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ Open EMS(Enterprise Management System)ì…ë‹ˆë‹¤.  
ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” Batch ì‹œìŠ¤í…œì„ ê¸°ë°˜ìœ¼ë¡œ, ë¶€ì„œÂ·ì§ì›Â·íŒŒì¼Â·ì´ë ¥Â·ë°±ì—…Â·ëŒ€ì‹œë³´ë“œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìš´ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

---

## ğŸ‘¥ íŒ€ ì†Œê°œ (Team Members & R&R)

| ê¸°ëŠ¥ ì˜ì—­              | ë‹´ë‹¹ì       | ì—­í•  ì„¤ëª… |
|------------------------|-------------|-----------|
| ë¶€ì„œ ê´€ë¦¬              | ì£¼ì„¸í›ˆ, ì •ì„œì—° | ë¶€ì„œ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ/ì¡°íšŒ |
| ì§ì› ê´€ë¦¬              | ë³€ìš°í˜, ê¹€ê·œì„­ | ì§ì› CRUD, í†µê³„ |
| **íŒŒì¼ ê´€ë¦¬**          | ì •ê±´ì§„   | íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ/ë©”íƒ€ ì •ë³´ |
| ì§ì› ìˆ˜ì • ì´ë ¥ ê´€ë¦¬    | (ë¯¸ì •)       | ë³€ê²½ ì´ë ¥ ê¸°ë¡ ë° ì¡°íšŒ |
| ë°ì´í„° ë°±ì—… ê´€ë¦¬       | (ë¯¸ì •)       | ë°°ì¹˜ ê¸°ë°˜ ë°±ì—… ë° ì´ë ¥ ê´€ë¦¬ |
| ëŒ€ì‹œë³´ë“œ ê´€ë¦¬          | (ë¯¸ì •)       | ì§ì›/ë¶€ì„œ í†µê³„ ì‹œê°í™” |

---

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥ (Features)

- **ë¶€ì„œ ê´€ë¦¬**: ë¶€ì„œ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ, ëª©ë¡ ì¡°íšŒ, ìƒì„¸ ì¡°íšŒ
- **ì§ì› ê´€ë¦¬**: ì§ì› ë“±ë¡, ìˆ˜ì •, ì‚­ì œ(í‡´ì‚¬ ì²˜ë¦¬), ëª©ë¡ ì¡°íšŒ, ìƒì„¸ ì¡°íšŒ, í†µê³„
- **íŒŒì¼ ê´€ë¦¬**: íŒŒì¼ ë©”íƒ€ ì •ë³´ ì €ì¥, ë‹¤ìš´ë¡œë“œ
- **ì´ë ¥ ê´€ë¦¬**: ì§ì› ì •ë³´ ë³€ê²½ ì´ë ¥ ë“±ë¡, ì¡°íšŒ, ìƒì„¸ diff ì¡°íšŒ
- **ë°ì´í„° ë°±ì—… ê´€ë¦¬**: ë°ì´í„° ë°±ì—… ìƒì„±, ìë™ ë°°ì¹˜ ë°±ì—…, ë°±ì—… ì´ë ¥ ì¡°íšŒ
- **ëŒ€ì‹œë³´ë“œ ê´€ë¦¬**: ì§ì› ìˆ˜, ì…ì‚¬ì, ë¶„í¬, ë°±ì—… í˜„í™© ì‹œê°í™”

ğŸ‘‰ [Swagger API ë¬¸ì„œ](http://sprint-project-1196140422.ap-northeast-2.elb.amazonaws.com/sb/hrbank/api/swagger-ui/index.html)

---

ë„¤, ì œê³µí•´ì£¼ì‹  API ëª…ì„¸ì˜ ì—”ë“œí¬ì¸íŠ¸ì™€ ìŠ¤í‚¤ë§ˆë¥¼ ëª…í™•í•˜ê²Œ ì •ë¦¬í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

---

ë„¤, ì•Œê² ìŠµë‹ˆë‹¤. ì²˜ìŒì— ì˜¬ë ¤ì£¼ì‹  ìˆœì„œ ê·¸ëŒ€ë¡œ API ëª…ì„¸ë¥¼ ë‹¤ì‹œ ì •ë¦¬í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

---

## ğŸ“‘ API Endpoints

### ì§ì› (Employee)
- `GET` **/api/employees**
  - **ì„¤ëª…**: ì§ì› ëª©ë¡ ì¡°íšŒ
- `POST` **/api/employees**
  - **ì„¤ëª…**: ì§ì› ë“±ë¡
- `GET` **/api/employees/{id}**
  - **ì„¤ëª…**: ì§ì› ìƒì„¸ ì¡°íšŒ
- `DELETE` **/api/employees/{id}**
  - **ì„¤ëª…**: ì§ì› ì‚­ì œ
- `PATCH` **/api/employees/{id}**
  - **ì„¤ëª…**: ì§ì› ìˆ˜ì •
- `GET` **/api/employees/stats/trend**
  - **ì„¤ëª…**: ì§ì› ìˆ˜ ì¶”ì´ ì¡°íšŒ
- `GET` **/api/employees/stats/distribution**
  - **ì„¤ëª…**: ì§ì› ë¶„í¬ ì¡°íšŒ
- `GET` **/api/employees/count**
  - **ì„¤ëª…**: ì§ì› ìˆ˜ ì¡°íšŒ

### ë¶€ì„œ ê´€ë¦¬ (Department Management)
- `GET` **/api/departments**
  - **ì„¤ëª…**: ë¶€ì„œ ëª©ë¡ ì¡°íšŒ
- `POST` **/api/departments**
  - **ì„¤ëª…**: ë¶€ì„œ ë“±ë¡
- `GET` **/api/departments/{id}**
  - **ì„¤ëª…**: ë¶€ì„œ ìƒì„¸ ì¡°íšŒ
- `DELETE` **/api/departments/{id}**
  - **ì„¤ëª…**: ë¶€ì„œ ì‚­ì œ
- `PATCH` **/api/departments/{id}**
  - **ì„¤ëª…**: ë¶€ì„œ ìˆ˜ì •

### ë°ì´í„° ë°±ì—… ê´€ë¦¬ (Data Backup Management)
- `GET` **/api/backups**
  - **ì„¤ëª…**: ë°ì´í„° ë°±ì—… ëª©ë¡ ì¡°íšŒ
- `POST` **/api/backups**
  - **ì„¤ëª…**: ë°ì´í„° ë°±ì—… ìƒì„±
- `GET` **/api/backups/latest**
  - **ì„¤ëª…**: ìµœê·¼ ë°±ì—… ì •ë³´ ì¡°íšŒ

### ì§ì› ì •ë³´ ìˆ˜ì • ì´ë ¥ ê´€ë¦¬ (Employee Change Log Management)
- `GET` **/api/change-logs**
  - **ì„¤ëª…**: ì§ì› ì •ë³´ ìˆ˜ì • ì´ë ¥ ëª©ë¡ ì¡°íšŒ
- `GET` **/api/change-logs/{id}/diffs**
  - **ì„¤ëª…**: ì§ì› ì •ë³´ ìˆ˜ì • ì´ë ¥ ìƒì„¸ ì¡°íšŒ
- `GET` **/api/change-logs/count**
  - **ì„¤ëª…**: ìˆ˜ì • ì´ë ¥ ê±´ìˆ˜ ì¡°íšŒ

### íŒŒì¼ ê´€ë¦¬ (File Management)
- `GET` **/api/files/{id}/download**
  - **ì„¤ëª…**: íŒŒì¼ ë‹¤ìš´ë¡œë“œ

---

## ğŸ“¦ Schemas (Data Models)

### ì§ì› ê´€ë ¨ (Employee)
- **EmployeeCreateRequest** (ì§ì› ë“±ë¡ ìš”ì²­)
  - `name`: `string`
  - `email`: `string`
  - `departmentId`: `integer`
  - `position`: `string`
  - `hireDate`: `string` (date)
  - `memo`: `string`
- **EmployeeUpdateRequest** (ì§ì› ìˆ˜ì • ìš”ì²­)
  - `name`: `string`
  - `email`: `string`
  - `departmentId`: `integer`
  - `position`: `string`
  - `hireDate`: `string` (date)
  - `status`: `string`
  - `memo`: `string`
- **EmployeeDto** (ì§ì› ì •ë³´)
  - `id`: `integer`
  - `name`: `string`
  - `email`: `string`
  - `employeeNumber`: `string`
  - `departmentId`: `integer`
  - `departmentName`: `string`
  - `position`: `string`
  - `hireDate`: `string` (date)
  - `status`: `string`
  - `profileImageId`: `integer`
- **EmployeeTrendDto** (ì§ì› ìˆ˜ ì¶”ì´ ì •ë³´)
  - `date`: `string` (date)
  - `count`: `integer`
  - `change`: `integer`
  - `changeRate`: `number` (double)
- **EmployeeDistributionDto** (ì§ì› ë¶„í¬ ì •ë³´)
  - `groupKey`: `string`
  - `count`: `integer`
  - `percentage`: `number` (double)

### ë¶€ì„œ ê´€ë ¨ (Department)
- **DepartmentCreateRequest** (ë¶€ì„œ ë“±ë¡ ìš”ì²­)
  - `name`: `string`
  - `description`: `string`
  - `establishedDate`: `string` (date)
- **DepartmentUpdateRequest** (ë¶€ì„œ ìˆ˜ì • ìš”ì²­)
  - `name`: `string`
  - `description`: `string`
  - `establishedDate`: `string` (date)
- **DepartmentDto** (ë¶€ì„œ ì •ë³´)
  - `id`: `integer`
  - `name`: `string`
  - `description`: `string`
  - `establishedDate`: `string` (date)
  - `employeeCount`: `integer`

### ì´ë ¥ ë° ë°±ì—… ê´€ë ¨ (Log & Backup)
- **ChangeLogDto** (ìˆ˜ì • ì´ë ¥ ì •ë³´)
  - `id`: `integer`
  - `type`: `string`
  - `employeeNumber`: `string`
  - `memo`: `string`
  - `ipAddress`: `string`
  - `at`: `string` (date-time)
- **DiffDto** (ìˆ˜ì • ì´ë ¥ ìƒì„¸ ë³€ê²½ ë‚´ìš©)
  - `propertyName`: `string`
  - `before`: `string`
  - `after`: `string`
- **BackupDto** (ë°ì´í„° ë°±ì—… ì •ë³´)
  - `id`: `integer`
  - `worker`: `string`
  - `startedAt`: `string` (date-time)
  - `endedAt`: `string` (date-time)
  - `status`: `string`
  - `fileId`: `integer`

### ê³µí†µ ì‘ë‹µ (Common Responses)
- **ErrorResponse** (ì—ëŸ¬ ì‘ë‹µ)
  - `timestamp`: `string` (date-time)
  - `status`: `integer`
  - `message`: `string`
  - `details`: `string`
- **CursorPageResponse...** (ì»¤ì„œ ê¸°ë°˜ í˜ì´ì§€ ì‘ë‹µ)
  - `content`: `array<object>` (ê° DTO ê°ì²´ì˜ ë°°ì—´)
  - `nextCursor`: `string`
  - `nextIdAfter`: `integer`
  - `size`: `integer`
  - `totalElements`: `integer`
  - `hasNext`: `boolean`
---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Backend
- Java 17
- Spring Boot
- Spring Web (REST API)
- Spring Data JPA
- Validation (Bean Validation)
- Spring Boot Actuator
- MapStruct (Entity â†” DTO ë§¤í•‘)

### Database
- PostgreSQL
- PostgreSQL JDBC Driver

### Infra / Deployment
- Railway.io (í´ë¼ìš°ë“œ ë°°í¬ & DB í˜¸ìŠ¤íŒ…)

### Frontend & API Docs
- HTML / CSS / JavaScript (ì œê³µëœ ì •ì  ë¦¬ì†ŒìŠ¤)
- Swagger UI (Springdoc OpenAPI 2.8.9)

### Utilities / Libraries
- Lombok
- Logging (Spring + Hibernate SQL ë¡œê¹…)
- JUnit 5 (Spring Boot Starter Test, Mockito, AssertJ í¬í•¨)

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡° (Project Structure)

```
sb05-hrbank-team02
â”œâ”€â”€ .git/
â”œâ”€â”€ .github/
â”œâ”€â”€ gradle/
â”œâ”€â”€ build.gradle
â”œâ”€â”€ gradle.properties
â”œâ”€â”€ gradlew
â”œâ”€â”€ gradlew.bat
â”œâ”€â”€ settings.gradle
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â”œâ”€â”€ java
    â”‚   â”‚   â””â”€â”€ com/sprint/project/hrbank
    â”‚   â”‚       â”œâ”€â”€ HrbankApplication.java
    â”‚   â”‚       â”œâ”€â”€ configuration/
    â”‚   â”‚       â”œâ”€â”€ controller/
    â”‚   â”‚       â”œâ”€â”€ converter/
    â”‚   â”‚       â”œâ”€â”€ dto/
    â”‚   â”‚       â”œâ”€â”€ entity/
    â”‚   â”‚       â”œâ”€â”€ exception/
    â”‚   â”‚       â”œâ”€â”€ functionalInterface/
    â”‚   â”‚       â”œâ”€â”€ mapper/
    â”‚   â”‚       â”œâ”€â”€ normalizer/
    â”‚   â”‚       â”œâ”€â”€ repository/
    â”‚   â”‚       â”œâ”€â”€ scheduler/
    â”‚   â”‚       â”œâ”€â”€ service/
    â”‚   â”‚       â””â”€â”€ validation/
    â”‚   â””â”€â”€ resources
    â”‚       â”œâ”€â”€ HR Bank.sql
    â”‚       â”œâ”€â”€ application.yml
    â”‚       â”œâ”€â”€ application-prod.yml
    â”‚       â”œâ”€â”€ application-test.yml
    â”‚       â”œâ”€â”€ data.sql
    â”‚       â”œâ”€â”€ messages.properties
    â”‚       â””â”€â”€ static
    â”‚           â””â”€â”€ assets
    â”‚               â””â”€â”€ images/
    â””â”€â”€ test
        â””â”€â”€ java/com/sprint/project/hrbank
            â”œâ”€â”€ ClientIpResolverTest.java
            â”œâ”€â”€ CursorCodecTest.java
            â”œâ”€â”€ CursorPageAssemblerTest.java
            â”œâ”€â”€ EmployeeCreateRequestValidationTest.java
            â”œâ”€â”€ HrbankApplicationTests.java
            â””â”€â”€ SearchRequestNormalizerTest.java
```

---

## âš™ï¸ ì‹¤í–‰ ë°©ë²• (Getting Started)

---

## ğŸ“‹ íŒ€ ê·œì¹™ (Team Rules)

* 2ì‹œê°„ ì´ìƒ í•´ê²°ë˜ì§€ ì•ŠëŠ” ë¬¸ì œëŠ” ë°˜ë“œì‹œ íŒ€ì›ê³¼ ê³µìœ 
* ê°œì¸ ì¼ì •ì€ íŒ€ì¥ì—ê²Œ ì‚¬ì „ ê³µìœ 
* ì•„ì¹¨ 9ì‹œ (ë˜ëŠ” ì£¼ê°•ì‚¬ë‹˜ ê³µì§€ ì´í›„) **ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼** ì§„í–‰

  * ì–´ì œ í•œ ì¼ / ì˜¤ëŠ˜ í•  ì¼ / ë§‰íŒ ë¶€ë¶„ ê³µìœ 
  * Notionì— ê¸°ë¡ í›„ ê³µìœ 
* ì‘ì—… ì‹œì‘ ì „:

  * `git pull origin main` â†’ ì‘ì—… ë¸Œëœì¹˜ checkout â†’ ìµœì‹  main merge í›„ ê°œë°œ ì‹œì‘

---

## âš™ï¸ ê°œë°œ ê·œì¹™ (Development Rules)

* **To-Do ê´€ë¦¬**

  * Notion ì‚¬ìš©
  * ë§¤ì¼ ìŠ¤í¬ëŸ¼ ì´í›„ ì˜¤ëŠ˜ í•  ì¼ Issue ë“±ë¡
    
* **R\&R ë¶„ë°°**

  * ê¸°ëŠ¥ë³„ ë‹´ë‹¹ì + ë¬¸ì„œí™” + ë¦¬ë·° ë‹´ë‹¹ì ëª…í™•íˆ êµ¬ë¶„
    
* **ë¬¸ì„œí™”**

  * ëª¨ë“  ê²°ì •/êµ¬í˜„ì‚¬í•­ Notion ê¸°ë¡
    
* **PR ê·œì¹™**
  * PR í…œí”Œë¦¿ì— ë§ì¶° ì‘ì„± (Github PR Template ê¸°ëŠ¥ í™œìš©)
  * ìµœì†Œ 1ëª… ì´ìƒ ìŠ¹ì¸ í•„ìš” (Github codeowners ê¸°ëŠ¥ í™œìš©)
  * ë¦¬ë·°ì–´ëŠ” 24ì‹œê°„ ì´ë‚´ ë¦¬ë·° ì‘ì„±
    
* **ë©˜í† ë§ ì¤€ë¹„**

  * íŒ€ë³„ ì§ˆë¬¸ ì‚¬ì „ ì •ë¦¬ ë° ê³µìœ 

---

## ğŸ“ Git Commit ì»¨ë²¤ì…˜

```
<type>(<scope>): <subject>

<body>

<footer>
```

* **Type**

  * feat: ìƒˆë¡œìš´ ê¸°ëŠ¥
  * fix: ë²„ê·¸ ìˆ˜ì •
  * docs: ë¬¸ì„œ ìˆ˜ì •
  * style: í¬ë§·íŒ…/ê³µë°± (ë¡œì§ ì˜í–¥ ì—†ìŒ)
  * refactor: ê¸°ëŠ¥ ë³€ê²½ ì—†ëŠ” êµ¬ì¡° ê°œì„ 
  * test: í…ŒìŠ¤íŠ¸ ì½”ë“œ
  * chore: ë¹Œë“œ/ì„¤ì •/ë¼ì´ë¸ŒëŸ¬ë¦¬ ë³€ê²½
  * ci: CI/CD ê´€ë ¨
* **Scope**: ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
* **Subject**: 50ì ì´ë‚´, ë™ì‚¬ í˜„ì¬í˜•, ë§ˆì¹¨í‘œ X
* **Body**: ë¬´ì—‡ì„/ì™œ ë³€ê²½í–ˆëŠ”ì§€ ìƒì„¸ ì„¤ëª…
* **Footer**: Issue ë²ˆí˜¸, Breaking Change, PR ì°¸ì¡°

---

## ğŸŒ± ë¸Œëœì¹˜ ì „ëµ (GitHub Flow)

* main ë¸Œëœì¹˜ëŠ” í•­ìƒ ë°°í¬ ê°€ëŠ¥í•œ ìƒíƒœ ìœ ì§€
* ê¸°ëŠ¥ ê°œë°œì€ `feat/ê¸°ëŠ¥ëª…`, ë²„ê·¸ ìˆ˜ì •ì€ `fix/ì´ìŠˆë²ˆí˜¸`
* ë¸Œëœì¹˜ëª…ì€ ì†Œë¬¸ì + í•˜ì´í”ˆ(`-`)

  * ì˜ˆ: `feat/add-employee-api`, `fix/login-error`
* ì‘ì—… ì™„ë£Œ í›„ Pull Request ìƒì„± â†’ ì½”ë“œ ë¦¬ë·° â†’ ìŠ¹ì¸ í›„ main merge
* Branch Protection Rule

  * main ì§ì ‘ push ë¶ˆê°€
  * ìŠ¹ì¸ ì—†ëŠ” merge ë¶ˆê°€
  * merge í›„ ë¸Œëœì¹˜ ìë™ ì‚­ì œ

---

## ğŸ§© ì½”ë“œ ì»¨ë²¤ì…˜ (Google Java Style)

* **ë„¤ì´ë°**

  * í´ë˜ìŠ¤: PascalCase
  * ë©”ì„œë“œ/ë³€ìˆ˜: camelCase
  * ìƒìˆ˜: UPPER\_CASE
* **ë“¤ì—¬ì“°ê¸°**: 2ì¹¸
* **í•œ ì¤„ ê¸¸ì´**: ìµœëŒ€ 100ì
* **ê´„í˜¸**

  * `if (` ì²˜ëŸ¼ í‚¤ì›Œë“œ ë’¤ì—ëŠ” ê³µë°±
  * ì¤‘ê´„í˜¸ `{` ëŠ” ê°™ì€ ì¤„ì— ì‘ì„±
* **ì£¼ì„**

  * Javadoc (`/** â€¦ */`)
  * â€œë¬´ì—‡ì„â€ ë³´ë‹¤ëŠ” â€œì™œâ€ë¥¼ ì„¤ëª…
* **ë¹ˆ ì¤„**

  * ë©”ì„œë“œ ì‚¬ì´, ë…¼ë¦¬ ë¸”ë¡ ì‚¬ì´ 1ì¤„ ê³µë°±

---

## ğŸ“¦ ê²°ê³¼ë¬¼ (Deliverables)

* ë°œí‘œìë£Œ (PDF)
* ì‹œì—°ì˜ìƒ (MP4)
* íŒ€ GitHub ë ˆí¬ì§€í† ë¦¬
* Railway ë°°í¬ ë§í¬
* íŒ€ í˜‘ì—… ë¬¸ì„œ (Notion ë“±)
* íŒ€ì›ë³„ ê°œë°œ ë¦¬í¬íŠ¸

---
